set(CPACK_SOURCE_IGNORE_FILES ".*\\.git;.*build.*")

set(CPACK_PACKAGE_VENDOR "TileDB Inc.")
set(CPACK_PACKAGE_VERSION "@TILEDB_VERSION@")

set(CPACK_INCLUDE_TOPLEVEL_DIRECTORY OFF)

# Append NOAVX2 if needed
if(NOT ${COMPILER_SUPPORTS_AVX2})
    set(NOAVX2 "-noavx2")
endif()

# Set output name
set(CPACK_PACKAGE_FILE_NAME "${CPACK_PACKAGE_NAME}-${CPACK_SYSTEM_NAME}-${CMAKE_SYSTEM_PROCESSOR}${NOAVX2}-${CPACK_PACKAGE_VERSION}")
string(TOLOWER ${CPACK_PACKAGE_FILE_NAME} CPACK_PACKAGE_FILE_NAME )

# Enable HASH
set(CPACK_PACKAGE_CHECKSUM "SHA256")