<svg xmlns="http://www.w3.org/2000/svg" xmlns:xl="http://www.w3.org/1999/xlink" width="488.559" height="352.496" version="1.1" viewBox="-794.201 1586.902 488.559 352.496"><defs><marker id="FilledArrow_Marker" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-9 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M -8 0 L 0 3 L 0 -3 Z"/></g></marker><marker id="FilledArrow_Marker_2" stroke-linejoin="miter" stroke-miterlimit="10" color="#000" markerHeight="8" markerUnits="strokeWidth" markerWidth="10" orient="auto" overflow="visible" viewBox="-1 -4 10 8"><g><path fill="currentColor" stroke="currentColor" stroke-width="1" d="M 8 0 L 0 -3 L 0 3 Z"/></g></marker></defs><metadata>Produced by OmniGraffle 7.20\n2022-06-25 18:53:20 +0000</metadata><g id="Two_phase_last_one" fill="none" fill-opacity="1" stroke="none" stroke-dasharray="none" stroke-opacity="1"><title>Two phase last one</title><rect width="488.559" height="352.496" x="-794.201" y="1586.902" fill="#fff"/><g id="Two_phase_last_one_Layer_1"><title>Layer 1</title><g id="Graphic_2288"><circle cx="-731.339" cy="1876.535" r="62.362" fill="#fff"/><circle cx="-731.339" cy="1876.535" r="62.362" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-776.2284 1837.882)"><tspan x="25.922" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Done</tspan></text></g><g id="Graphic_2287"><circle cx="-617.953" cy="1763.15" r="62.362" fill="#fff"/><circle cx="-617.953" cy="1763.15" r="62.362" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-662.8425 1724.4961)"><tspan x=".426" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">state: empty</tspan> <tspan x="1.474" y="51.448" fill="#000" font-family="Helvetica Neue" font-size="16">entry: return</tspan> <tspan x="4.594" y="69.896" fill="#000" font-family="Helvetica Neue" font-size="16">exit: signal, </tspan> <tspan x="1.626" y="88.344" fill="#000" font-family="Helvetica Neue" font-size="16">wait, maybe </tspan> <tspan x="25.786" y="106.792" fill="#000" font-family="Helvetica Neue" font-size="16">swap</tspan></text></g><g id="Graphic_2286"><circle cx="-731.339" cy="1649.764" r="62.362" fill="#fff"/><circle cx="-731.339" cy="1649.764" r="62.362" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-776.2284 1611.1103)"><tspan x="27.706" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">Start</tspan></text></g><g id="Line_2285"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-start="url(#FilledArrow_Marker)" d="M -545.8604 1758.3136 C -531.75324 1757.8115 -515.9762 1757.4804 -498.89765 1757.4804 C -474.1325 1757.4804 -450.71164 1758.1766 -430.7341 1759.081"/></g><g id="Graphic_2284"><circle cx="-368.504" cy="1763.15" r="62.362" fill="#fff"/><circle cx="-368.504" cy="1763.15" r="62.362" stroke="gray" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/><text fill="#000" transform="translate(-413.3937 1724.4961)"><tspan x="12.442" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">state: full</tspan> <tspan x="1.474" y="51.448" fill="#000" font-family="Helvetica Neue" font-size="16">entry: return</tspan></text></g><g id="Graphic_2283"><text fill="#000" transform="translate(-532.4761 1734.134)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">do_drain</tspan></text></g><g id="Line_2282"><line x1="-687.242" x2="-669.05" y1="1693.861" y2="1712.053" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/></g><g id="Line_2281"><line x1="-662.049" x2="-680.242" y1="1807.246" y2="1825.438" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-end="url(#FilledArrow_Marker_2)"/></g><g id="Line_2280"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1" marker-start="url(#FilledArrow_Marker)" d="M -427.7384 1804.3406 C -446.58844 1813.1382 -468.92593 1819.8426 -493.22836 1819.8426 C -521.4594 1819.8426 -547.0389 1810.7954 -567.58016 1799.9294"/></g><g id="Graphic_2279"><text fill="#000" transform="translate(-510.2148 1830.5119)"><tspan x="0" y="15" fill="#000" font-family="Helvetica Neue" font-size="16">pull</tspan></text></g></g></g></svg>